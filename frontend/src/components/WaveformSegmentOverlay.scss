.waveform-segment-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0; // Below playhead (z-index: 1)
}

.waveform-segment {
  position: absolute;
  top: 2px;
  bottom: 2px;
  pointer-events: auto;
  cursor: pointer;
  border-radius: 2px;
  transition:
    background-color 0.1s ease,
    box-shadow 0.1s ease;
  outline: none;

  // Even segments (0, 2, 4, ...) - accent color
  &--even {
    background: rgba(var(--app-accent-rgb), 0.15);
    border-left: 2px solid rgba(var(--app-accent-rgb), 0.4);

    &:hover,
    &.waveform-segment--hovered {
      background: rgba(var(--app-accent-rgb), 0.3);
      border-left-color: rgba(var(--app-accent-rgb), 0.7);
    }
  }

  // Odd segments (1, 3, 5, ...) - complementary purple
  &--odd {
    background: rgba(147, 112, 219, 0.12); // Medium purple
    border-left: 2px solid rgba(147, 112, 219, 0.35);

    &:hover,
    &.waveform-segment--hovered {
      background: rgba(147, 112, 219, 0.25);
      border-left-color: rgba(147, 112, 219, 0.6);
    }
  }

  // Focus styles for keyboard navigation
  &:focus-visible {
    box-shadow: 0 0 0 2px rgba(var(--app-accent-rgb), 0.5);
  }
}

.waveform-segment__label {
  position: absolute;
  top: 50%;
  left: 6px;
  right: 4px;
  transform: translateY(-50%);
  font-size: 10px;
  line-height: 1.2;
  color: var(--app-ink);
  opacity: 0.85;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  pointer-events: none;
  text-shadow:
    0 0 3px var(--app-surface),
    0 0 6px var(--app-surface);
}
